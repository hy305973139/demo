package com.example.demo.service;

import com.example.demo.dao.Baowen202Dao;
import com.example.demo.dao.Baowen302Dao;
import com.example.demo.entity.Baowen;
import com.example.demo.entity.Baowen302;
import com.example.demo.util.GaoDiWeiZhuanHuan;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

/**
 * Created by huang on 2018/4/9.
 */
@Service
public class Baowen302Service {
    @Autowired
    private Baowen302Dao baowen302Dao;

    public String analyze(Baowen bw){
        System.out.println("302报文解析");
        String num1 = bw.getShujuyu().substring(0, 4);
        String num2 = bw.getShujuyu().substring(4, 8);
        String num3 = bw.getShujuyu().substring(8, 72);
        String num4 = bw.getShujuyu().substring(72, 74);
        String num5 = bw.getShujuyu().substring(74, 76);
        String num6 = bw.getShujuyu().substring(76, 82);
        String num7 = bw.getShujuyu().substring(82, 84);
        String num8 = bw.getShujuyu().substring(84, 92);
        String num9 = bw.getShujuyu().substring(92, 100);
        String num10 = bw.getShujuyu().substring(100, 108);
        String num11 = bw.getShujuyu().substring(108, 116);
        String num12 = bw.getShujuyu().substring(116, 120);
        String num13 = bw.getShujuyu().substring(120, 122);
        String num14 = bw.getShujuyu().substring(122, 124);
        String num15 = bw.getShujuyu().substring(124, 132);
        String num16 = bw.getShujuyu().substring(132, 134);
        String num17 = bw.getShujuyu().substring(134, 136);
        String num18 = bw.getShujuyu().substring(136, 150);
        String num19 = bw.getShujuyu().substring(150, 166);
        String num20 = bw.getShujuyu().substring(166, 174);
        String num21 = bw.getShujuyu().substring(174, 182);
        String num22 = bw.getShujuyu().substring(182, 190);
        String num23 = bw.getShujuyu().substring(190, 198);
        String num24 = bw.getShujuyu().substring(198, 200);
        String num25 = bw.getShujuyu().substring(200, 204);
        String num26 = bw.getShujuyu().substring(204, 212);
        String num27 = bw.getShujuyu().substring(212, 214);
        String num28 = bw.getShujuyu().substring(214, 222);
        String num29 = bw.getShujuyu().substring(222, 230);
        String num30 = bw.getShujuyu().substring(230, 232);
        String num31 = bw.getShujuyu().substring(232, 240);
        String num32 = bw.getShujuyu().substring(240, 248);
        String num33 = bw.getShujuyu().substring(248, 256);
        String num34 = bw.getShujuyu().substring(256, 258);
        String num35 = bw.getShujuyu().substring(258, 262);
        String num36 = bw.getShujuyu().substring(262, 270);
        String num37 = bw.getShujuyu().substring(270, 272);
        String num38 = bw.getShujuyu().substring(272, 274);
        String num39 = bw.getShujuyu().substring(274, 276);
        String num40 = bw.getShujuyu().substring(276, 278);
        String num41 = bw.getShujuyu().substring(278, 280);
        String num42 = bw.getShujuyu().substring(280, 282);
        String num43 = bw.getShujuyu().substring(284, 286);
        String num44 = bw.getShujuyu().substring(286, 288);
        String num45 = bw.getShujuyu().substring(288, 290);
        String num46 = bw.getShujuyu().substring(290, 292);
        String num47 = bw.getShujuyu().substring(292, 294);
        String num48 = bw.getShujuyu().substring(294, 296);
        String num49 = bw.getShujuyu().substring(296, 298);
        String num50 = bw.getShujuyu().substring(298, 300);
        String num51 = bw.getShujuyu().substring(300, 302);
        String num52 = bw.getShujuyu().substring(302, 304);
        String num53 = bw.getShujuyu().substring(304, 306);
        String num54 = bw.getShujuyu().substring(306, 308);
        String num55 = bw.getShujuyu().substring(308, 310);
        String num56 = bw.getShujuyu().substring(310, 312);
        String num57 = bw.getShujuyu().substring(312, 314);
        String num58 = bw.getShujuyu().substring(314, 316);
        String num59 = bw.getShujuyu().substring(316, 318);
        String num60 = bw.getShujuyu().substring(318, 320);
        String num61 = bw.getShujuyu().substring(320, 322);
        String num62 = bw.getShujuyu().substring(322, 324);
        String num63 = bw.getShujuyu().substring(324, 328);
        String num64 = bw.getShujuyu().substring(328, 336);
        String num65 = bw.getShujuyu().substring(336, 344);
        String num66 = bw.getShujuyu().substring(344, 346);
        String num67 = bw.getShujuyu().substring(346, 348);
        String num68 = bw.getShujuyu().substring(348, 350);
        String num69 = bw.getShujuyu().substring(350, 352);
        String num70 = bw.getShujuyu().substring(352, 354);
        String num71 = bw.getShujuyu().substring(354, 356);
        String num72 = bw.getShujuyu().substring(356, 360);
        String num73 = bw.getShujuyu().substring(360, 362);
        String num74 = bw.getShujuyu().substring(362, 364);
        String num75 = bw.getShujuyu().substring(364, 366);
        Baowen302 baowen302 = new Baowen302();
        baowen302.setBaowenId(bw.getId());
        baowen302.setNum1(num1);
        baowen302.setNum2(num2);
        baowen302.setNum3(num3);
        baowen302.setNum4(num4);
        baowen302.setNum5(num5);
        baowen302.setNum6(num6);
        baowen302.setNum7(num7);
        baowen302.setNum8(num8);
        baowen302.setNum9(num9);
        baowen302.setNum10(num10);
        baowen302.setNum11(num11);
        baowen302.setNum12(num12);
        baowen302.setNum13(num13);
        baowen302.setNum14(num14);
        baowen302.setNum15(num15);
        baowen302.setNum16(num16);
        baowen302.setNum17(num17);
        baowen302.setNum18(num18);
        baowen302.setNum19(num19);
        baowen302.setNum20(num20);
        baowen302.setNum21(num21);
        baowen302.setNum22(num22);
        baowen302.setNum23(num23);
        baowen302.setNum24(num24);
        baowen302.setNum25(num25);
        baowen302.setNum26(num26);
        baowen302.setNum27(num27);
        baowen302.setNum28(num28);
        baowen302.setNum29(num29);
        baowen302.setNum30(num30);
        baowen302.setNum31(num31);
        baowen302.setNum32(num32);
        baowen302.setNum33(num33);
        baowen302.setNum34(num34);
        baowen302.setNum35(num35);
        baowen302.setNum36(num36);
        baowen302.setNum37(num37);
        baowen302.setNum38(num38);
        baowen302.setNum39(num39);
        baowen302.setNum40(num40);
        baowen302.setNum41(num41);
        baowen302.setNum42(num42);
        baowen302.setNum43(num43);
        baowen302.setNum44(num44);
        baowen302.setNum45(num45);
        baowen302.setNum46(num46);
        baowen302.setNum47(num47);
        baowen302.setNum48(num48);
        baowen302.setNum49(num49);
        baowen302.setNum50(num50);
        baowen302.setNum51(num51);
        baowen302.setNum52(num52);
        baowen302.setNum53(num53);
        baowen302.setNum54(num54);
        baowen302.setNum55(num55);
        baowen302.setNum56(num56);
        baowen302.setNum57(num57);
        baowen302.setNum58(num58);
        baowen302.setNum59(num59);
        baowen302.setNum60(num60);
        baowen302.setNum61(num61);
        baowen302.setNum62(num62);
        baowen302.setNum63(num63);
        baowen302.setNum64(num64);
        baowen302.setNum65(num65);
        baowen302.setNum66(num66);
        baowen302.setNum67(num67);
        baowen302.setNum68(num68);
        baowen302.setNum69(num69);
        baowen302.setNum70(num70);
        baowen302.setNum71(num71);
        baowen302.setNum72(num72);
        baowen302.setNum73(num73);
        baowen302.setNum74(num74);
        baowen302.setNum75(num75);
        int result = baowen302Dao.add(baowen302);
        String res = bw.getBanbenyu()+"2d0108000000";
        res = GaoDiWeiZhuanHuan.fanhui(res);
        if(result>1){
            return res;
        }
        return res;
    }
}
